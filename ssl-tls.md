# SSL/TLSの仕組み

## 参考
https://christina04.hatenablog.com/entry/ssl-tls-flow


## 用語
- 証明書（.crt）
- 証明書要求（.csr）
- 署名


## 証明書とは
構成
- 発行者/認証局（Issuer）
- 発行先/認証対象（Subject）
- 公開鍵
- 認証局による署名


## 証明書要求とは
構成
- 発行者/認証局（Issuer）
- 認証局の公開鍵


## 署名とは
署名を除いた証明書の内容から生成したハッシュ値を，認証局の秘密鍵で暗号化（RSA署名）したもの


## 証明書に含まれる署名の検証（サーバ認証）
1. 証明書から証明書要求を作成
2. 認証局に証明書要求を送り，認証局の証明書を取得
3. 認証局の証明書から認証局の公開鍵を抽出
4. 署名を認証局の公開鍵で復号し，証明書のハッシュ値を取得
5. 署名を除いた証明書の内容からハッシュ値を生成
6. 4と5のハッシュ値が同一か検証
7. 1から6をクライアント環境内に含まれるルート証明書に到達するまで繰り返す
